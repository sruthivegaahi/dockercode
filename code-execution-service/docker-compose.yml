version: "3.9"

services:
  executor:
    build: .
    container_name: executor
    volumes:
      - ./temp:/app/temp
    ports:
      - "5002:5002"   # Only this container exposes a host port
    restart: always

  python_executor:
    build: ./docker/python
    container_name: python_executor
    volumes:
      - ./temp:/app/temp
    command: tail -f /dev/null   # Keep container running
    restart: always

  java_executor:
    build: ./docker/java
    container_name: java_executor
    volumes:
      - ./temp:/app/temp
    command: tail -f /dev/null
    restart: always

  cpp_executor:
    build: ./docker/cpp
    container_name: cpp_executor
    volumes:
      - ./temp:/app/temp
    command: tail -f /dev/null
    restart: always
